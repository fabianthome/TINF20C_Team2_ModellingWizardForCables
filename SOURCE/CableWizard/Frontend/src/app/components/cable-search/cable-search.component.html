<mat-drawer-container>
  <mat-drawer mode="side" #drawer opened>

    <div class="drawer-row">
      <h2>Search cables</h2>
    </div>

    <div class="drawer-row">
      <mat-form-field appearance="standard" class="drawer-row-item">
        <mat-label>Search</mat-label>
        <input matInput type="text" [(ngModel)]="filter.queryText" (ngModelChange)="onFilterChanged()"/>
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </div>

    <div class="drawer-row">
      <h3>Length</h3>
    </div>

    <div class="drawer-row">
      <mat-form-field appearance="standard">
        <mat-label>Minimum</mat-label>
        <input matInput type="number" [(ngModel)]="filter.lengthMin" (ngModelChange)="onFilterChanged()"/>
      </mat-form-field>
      <mat-form-field appearance="standard">
        <mat-label>Maximum</mat-label>
        <input matInput type="number" [(ngModel)]="filter.lengthMax" (ngModelChange)="onFilterChanged()"/>
      </mat-form-field>
    </div>

    <div class="drawer-row">
      <h3>Width</h3>
    </div>

    <div class="drawer-row">
      <mat-form-field appearance="standard">
        <mat-label>Minimum</mat-label>
        <input matInput type="number" [(ngModel)]="filter.widthMin" (ngModelChange)="onFilterChanged()"/>
      </mat-form-field>
      <mat-form-field appearance="standard">
        <mat-label>Maximum</mat-label>
        <input matInput type="number" [(ngModel)]="filter.widthMax" (ngModelChange)="onFilterChanged()"/>
      </mat-form-field>
    </div>

    <div class="drawer-row">
      <h3>Height</h3>
    </div>

    <div class="drawer-row">
      <mat-form-field appearance="standard">
        <mat-label>Minimum</mat-label>
        <input matInput type="number" [(ngModel)]="filter.heightMin" (ngModelChange)="onFilterChanged()"/>
      </mat-form-field>
      <mat-form-field appearance="standard">
        <mat-label>Maximum</mat-label>
        <input matInput type="number" [(ngModel)]="filter.heightMax" (ngModelChange)="onFilterChanged()"/>
      </mat-form-field>
    </div>

    <div class="drawer-row">
      <h3>Temperature</h3>
    </div>

    <div class="drawer-row">
      <mat-form-field appearance="standard">
        <mat-label>Minimum</mat-label>
        <input matInput type="number" [(ngModel)]="filter.temperatureMin" (ngModelChange)="onFilterChanged()"/>
      </mat-form-field>
      <mat-form-field appearance="standard">
        <mat-label>Maximum</mat-label>
        <input matInput type="number" [(ngModel)]="filter.temperatureMax" (ngModelChange)="onFilterChanged()"/>
      </mat-form-field>
    </div>

    <button class="drawer-button close"
      (click)="drawer.close()"
      mat-mini-fab
      color="primary"
    >
      <mat-icon>chevron_left</mat-icon>
    </button>

  </mat-drawer>
  <app-cable-search-grid [products]="filteredProducts$ | async"></app-cable-search-grid>
</mat-drawer-container>

<button class="drawer-button open"
  *ngIf="!drawer.opened"
  (click)="drawer.open()"
  mat-mini-fab
  color="primary"
>
  <mat-icon>chevron_right</mat-icon>
</button>
